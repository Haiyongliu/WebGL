<!--DOCTYPE html-->
<html>
    <head>
        <meta charset="utf-8">
        <title>Buffer Geometry Demo</title>
        <style>
            body {margin: 0;}
            canvas { width: 100%;height: 100%;}
        </style>
    </head>

    <body>

    </body>

    <script type="module">
        import { BoxBufferGeometry,Scene ,LineBasicMaterial,
        Mesh, MeshPhongMaterial ,DoubleSide ,
        PerspectiveCamera ,WebGLRenderer } from "./js/three.module.js";
        
        var scene;
        var camera;
        var renderer;
        var model;

        // Flow
        initEnv();
        createModel();
        attachCanvas();
        putScene();
        renderScene();
        
        animate();

        function animate(){
            window.requestAnimationFrame(animate);

            model.rotation.x += 0.01;
            model.rotation.y += 0.01;
            model.rotation.z += 0.01;

            renderScene();
        }

        function renderScene(){
            renderer.render(scene,camera);
        }

        function attachCanvas(){
            document.body.appendChild(renderer.domElement);
        }

        function putScene(){
            scene.add(model);
        }

        function createModel(){
            var bufferGeometry = new BoxBufferGeometry(5,5,5,2,3,4);
            var material = new MeshPhongMaterial( { color: 0x156289, emissive: 0x072534, side: DoubleSide, flatShading: true } );
            model = new Mesh(bufferGeometry,material);
        }

        function initEnv(){
            scene = new Scene();
            camera = new PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
            camera.position.z = 15;
            renderer = new WebGLRenderer();
            renderer.setSize(window.innerWidth ,window.innerHeight);
        }
    </script>
</html>